version: 2

sources:
  - name: boardgame
    database: boardgame  
    schema: raw  
    tables:
      - name: artists
        description: Table with the artists names associated to their respective boardgames
        columns:
          - name: artists
            description: Name of the artists responsible for the art and graphical design of the boardgame
            tests:
              - not_null
          - name: game_id
            description: Boardgame unique identifier
            tests:
              - not_null
              - dbt_expectations.expect_column_values_to_be_of_type:
                  column_type: number
      - name: boardgames
        description: Table with boardgames main properties
        columns:
          - name: weight
            description: Boardgame unique identifier
            tests:
              - unique 
          - name: game_id
            description: Boardgame unique identifier
            tests:
              - unique
              - not_null
              - dbt_expectations.expect_column_values_to_be_of_type:
                  column_type: number
                  name: expect_boardgames_game_id_to_be_of_type_number
      - name: categories
      - name: designers
      - name: mechanics
      - name: publishers
      - name: rankings
        description: Daily ranking of boardgames based on users ratings
        freshness:
          warn_after: {count: 24, period: hour}
          error_after: {count: 48, period: hour}
        loaded_at_field: '"updated_at"'
      - name: reviews
      - name: users