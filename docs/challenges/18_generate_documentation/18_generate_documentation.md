# Exercise:

## Documentation - Overview
Good documentation for your dbt models will help downstream consumers discover and understand the datasets which you curate for them.

dbt provides a way to generate documentation for your dbt project and render it as a website. The documentation for your project includes:

Information about your project: including model code, a DAG of your project, any tests you've added to a column, and more.
Information about your data warehouse: including column data types, and table sizes. This information is generated by running queries against the information schema.

Here's an example docs site:
![Docs Site](https://docs.getdbt.com/img/docs/building-a-dbt-project/dbt-docs-screenshot.png?v=2)

## Generating project documentation

You can generate a documentation site for your project (with or without descriptions) using the CLI.

First, run `dbt docs generate` - this command tells dbt to compile relevant information about your dbt project and warehouse into `manifest.json` and `catalog.json` files respectively.

The command is responsible for generating your project's documentation website by

1. Copying the website `index.html` file into the `target/` directory
1. Compiling the resources in your project, so that their `compiled_code` will be included in `manifest.json`
1. Running queries against database metadata to produce the `catalog.json` file, which contains metadata about the tables and views produced by the models in your project.

### Additional arguments
Use the `--no-compile` argument to skip re-compilation. When this flag is provided, dbt docs generate will skip step (2) described above.

```bash
dbt docs generate --no-compile
```

Use the `--empty-catalog` argument to skip running the database queries to populate catalog.json. When this flag is provided, dbt docs generate will skip step (3) described above.

**Note:** To see documentation for all columns and not just columns described in your project, ensure that you have created the models with `dbt run` beforehand.

Then, run `dbt docs serve` to use these .json files to populate a local website.


## Using Docs Blocks
To declare a docs block, use the jinja `docs` tag. Docs blocks can contain arbitrary markdown, but they must be uniquely named. Their names may contain uppercase and lowercase letters (A-Z, a-z), digits (0-9), and underscores (_), but can't start with a digit.

```yaml
{% docs table_events %}

This table contains clickstream events from the marketing website.

The events in this table are recorded by [Snowplow](http://github.com/snowplow/snowplow) and piped into the warehouse on an hourly basis. The following pages of the marketing site are tracked:
 - /
 - /about
 - /team
 - /contact-us

{% enddocs %}
```

To use docs block, reference it from your `properties.yml` file (ex: _core__models.yml) with the `doc()` function in place of a markdown string.

```yaml
version: 2

models:
  - name: events
    description: '{{ doc("table_events") }}'

    columns:
      - name: event_id
        description: This is a unique identifier for the event
        tests:
            - unique
            - not_null
```

## Task: Create a docs block for user rating
Create a `_marts__docs.md` with the following description for the `review_rating` on `fct_reviews` model:
- 10 - Outstanding. Always want to play and expect this will never change.
- 9 - Excellent game. Always want to play it.
- 8 - Very good game. I like to play. Probably I'll suggest it and will never turn down a game.
- 7 - Good game, usually willing to play.
- 6 - Ok game, some fun or challenge at least, will play sporadically if in the right mood.
- 5 - Average game, slightly boring, take it or leave it.
- 4 - Not so good, it doesn't get me but could be talked into it on occasion.
- 3 - Likely won't play this again although could be convinced. Bad.
- 2 - Extremely annoying game, won't play this ever again.
- 1 - Defies description of a game. You won't catch me dead playing this. Clearly broken.

[User rating definition](https://boardgamegeek.com/wiki/page/ratings)

After running the associated models, execute the commands:
```bash
dbt docs generate

dbt docs serve
```

You can check [dbt docs](https://docs.getdbt.com/docs/collaborate/documentation) for more details about documentation.

---

### Solution

- [_marts__docs.md](./marts/_marts__docs.md)
- [_core__models.yml](./marts/core/_core__models.yml)

---

[Return to Project Challenges](../../../README.md#9-project-challenges)